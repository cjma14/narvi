---
// Import necessary modules and utilities
import Icon from "@components/ui/icons/Icon.astro";

const {
  imgUrl,
  imgAlt,
  title,
  description,
  url,
  index,
  label = Astro.currentLocale === "es" ? "Saber m√°s" : "Read more",
} = Astro.props;

interface Props {
  imgUrl: string;
  imgAlt: string;
  title: string;
  url: string;
  description: string;
  label?: string;
  index?: number;
}
---

<!-- The anchor tag is the root container for the "Insight" card. It links to the insight detail page. -->
<a
  class:list={[{ 'col-span-3': index == 3 }]}
  class="group relative block outline-none ring-zinc-500 transition duration-500 focus-visible:ring dark:ring-zinc-200 dark:focus:outline-none"
  href={url}
>
  <!-- This is the container for the insight's cover image. -->
  <div class="relative h-[36rem] w-full flex-shrink-0 overflow-hidden rounded-md before:absolute before:inset-x-0 before:z-[1] before:size-full before:bg-gradient-to-t before:from-black/[.7]">
    <img
      class="absolute start-0 top-0 size-full object-cover transition duration-500 ease-in-out group-hover:scale-105 z-0"
      src={imgUrl}
      alt={imgAlt}
      draggable="false"
    />
  </div>

   <!-- This is the container for the insight's title and description. -->
   <div class="absolute inset-x-0 bottom-0 z-10">
    <div class="flex h-full flex-col p-4 sm:p-6">
      <h3
      class="text-xl font-bold group-hover:text-primary-500 dark:text-neutral-200 dark:group-hover:text-neutral-400"
    >
      {title}
    </h3>
    <!-- The description of the insight -->
    <p class="mt-3">
      {description}
    </p>
    <!-- The "Read More" hyperlink going to the full insight. With an arrow icon -->
    <p
      class="mt-5 inline-flex items-center gap-x-1 font-medium text-rpimary-400 decoration-2 group-hover:text-primary-400"
    >
      {label}
      <Icon name="arrowRightStatic" />
    </p>
    </div>
  </div>
 
</a>
