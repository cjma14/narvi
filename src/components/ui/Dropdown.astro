---
import { languages } from "@utils//ui";
import Icon from "./icons/Icon.astro";

// Destructure the properties from Astro.props
const { link } = Astro.props;

// Define TypeScript interface for the properties
interface Props {
    link: {
        name: string;
        type: string;
        childrens: Array<any>;
    };
}
---

<div class="hs-dropdown relative inline-flex">
    <button
        id="hs-dropdown-default"
        type="button"
        aria-label="Change language"
        class="hs-dropdown-toggle inline-flex items-center gap-x-2 rounded-lg px-1.5 py-1.5 text-sm font-medium text-neutral-600 md:text-white outline-none ring-zinc-500 transition duration-300 hover:text-primary-400 dark:border-neutral-700 dark:text-neutral-400 dark:ring-zinc-200 dark:hover:bg-neutral-700 dark:hover:text-primary-300 dark:focus:outline-none"
    >
        <p>{link.name}</p>
        <svg
            class="size-4 hs-dropdown-open:rotate-180"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"><path d="m6 9 6 6 6-6"></path></svg
        >
    </button>

    <ul
        class="hs-dropdown-menu duration !inset-[unset] !top-[85%] mt-2 hidden !transform-none rounded-lg bg-neutral-50 p-2 opacity-0 shadow-md transition-[opacity,margin] hs-dropdown-open:opacity-100 dark:divide-neutral-700 dark:border dark:border-neutral-700 dark:bg-neutral-800"
        aria-labelledby="hs-dropdown-hover-event"
    >
        {
            link.childrens.map((child) => (
                <li>
                    <a
                        class="flex items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-neutral-800 hover:bg-neutral-100 focus:bg-neutral-100 focus:outline-none dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-300 dark:focus:bg-neutral-700"
                        href={child.url}
                    >
                        {child.name}
                    </a>
                </li>
            ))
        }
    </ul>
</div>

<!--Import the necessary Dropdown plugin-->
<!--https://preline.co/plugins/html/dropdown.html-->
<script>
    import "@preline/dropdown/index.js";
</script>
